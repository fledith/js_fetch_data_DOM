{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","ENDPOINTS","phones","phonesId","Id","request","url","fetch","then","response","json","catch","error","setTimeout","Promise","reject","getPhones","getPhonesDetails","arrId","all","map","id","ul","document","createElement","data","forEach","phone","insertAdjacentHTML","name","ids","phonesWithDetails","index","Object","assign","console","log","querySelector","append"],"mappings":";AAAA,aAEA,IAAMA,EAAN,4DACMC,EAAY,CAChBC,OAAQ,eACRC,SAAU,SAACC,GAAkBA,MAAAA,WAAAA,OAAAA,EAAnB,WAGNC,EAAU,SAACC,GACRC,OAAAA,MAASP,GAAAA,OAAAA,GAAWM,OAAAA,IACxBE,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BC,MAAM,SAAAC,GAASC,OAAAA,WAAW,WAAMC,OAAAA,QAAQC,OAAOH,IAAQ,QAGtDI,EAAY,WAAMX,OAAAA,EAAQJ,EAAUC,SACpCe,EAAmB,SAACC,GACjBJ,OAAAA,QAAQK,IAAID,EAAME,IAAI,SAAAC,GAAMhB,OAAAA,EAAQJ,EAAUE,SAASkB,QAG1DC,EAAKC,SAASC,cAAc,MAElCR,IACGR,KAAK,SAAAiB,GACJA,EAAKC,QAAQ,SAAAC,GACXL,EAAGM,mBAAmB,YAAoBD,OAAAA,OAAAA,EAAME,KAAhD,YAGIC,IAAAA,EAAML,EAAKL,IAAI,SAAAO,GAASA,OAAAA,EAAMN,KAEpCJ,EAAiBa,GACdtB,KAAK,SAAAC,GACEsB,IAAAA,EAAoBN,EAAKL,IAAI,SAACO,EAAOK,GAClCC,OAAAA,OAAOC,OAAOP,EAAOlB,EAASuB,MAGvCG,QAAQC,IAAIL,KAEbpB,MAAM,SAAAC,GAASC,OAAAA,WAAW,WAAMC,OAAAA,QAAQC,OAAOH,IAAQ,SAG9DW,SAASc,cAAc,QAAQC,OAAOhB","file":"main.2feff057.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = `https://mate-academy.github.io/phone-catalogue-static/api`;\nconst ENDPOINTS = {\n  phones: '/phones.json',\n  phonesId: (Id) => `/phones/${Id}.json`,\n};\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => response.json())\n    .catch(error => setTimeout(() => Promise.reject(error), 5000));\n};\n\nconst getPhones = () => request(ENDPOINTS.phones);\nconst getPhonesDetails = (arrId) => {\n  return Promise.all(arrId.map(id => request(ENDPOINTS.phonesId(id))));\n};\n\nconst ul = document.createElement('ul');\n\ngetPhones()\n  .then(data => {\n    data.forEach(phone => {\n      ul.insertAdjacentHTML('beforeend', `<li>${phone.name}</li>`);\n    });\n\n    const ids = data.map(phone => phone.id);\n\n    getPhonesDetails(ids)\n      .then(response => {\n        const phonesWithDetails = data.map((phone, index) => {\n          return Object.assign(phone, response[index]);\n        });\n\n        console.log(phonesWithDetails); // eslint-disable-line\n      })\n      .catch(error => setTimeout(() => Promise.reject(error), 5000));\n  });\n\ndocument.querySelector('body').append(ul);\n"]}